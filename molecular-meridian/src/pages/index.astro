---
const SITE_TITLE = "RAPDM | Holding Company + Venture Studio";
const FORM_ENDPOINT = "https://formspree.io/f/REPLACE_ME";
const MEETING_MAIL = "mailto:joao@rapdm.co?subject=RAPDM%20-%20Pedido%20de%20reuni%C3%A3o&body=Ol%C3%A1%20Jo%C3%A3o%2C%0A%0AQueria%20marcar%20uma%20reuni%C3%A3o.%20Sugiro%3A%0A-%20Tema%3A%0A-%20Contexto%3A%0A-%20Disponibilidade%3A%0A%0AObrigado.";

const portfolio = [
  { name: "AUDAX", description_pt: "E-commerce brands.", description_en: "E-commerce brands.", href: "https://www.linkedin.com/company/79813925/" },
  { name: "ScalerPath", description_pt: "SaaS e analytics.", description_en: "SaaS and analytics.", href: "https://scalerpath.com" },
  { name: "Chift", description_pt: "Produto e execução.", description_en: "Product and execution.", href: "https://chift.io" },
];
---

<!doctype html>
<html lang="pt-PT">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="RAPDM. Holding Company + Venture Studio." />
    <meta name="theme-color" content="#0B1220" />

    <title>{SITE_TITLE}</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preload" as="image" href="/rapdm-logo.png" />

    <style>
      :root{
        --bg: #0b0f16;
        --bg2: #0a0d13;
        --panel: rgba(255,255,255,.06);
        --panel2: rgba(255,255,255,.04);
        --line: rgba(255,255,255,.10);

        --ink: rgba(255,255,255,.92);
        --muted: rgba(255,255,255,.68);
        --muted2: rgba(255,255,255,.52);

        --accent: #2b6cff;
        --accent2: #6aa7ff;

        --shadow: 0 18px 50px rgba(0,0,0,.40);
        --r: 14px;
        --r2: 18px;
        --max: 1160px;

        --ease: cubic-bezier(.2,.8,.2,1);
      }

      *{ box-sizing:border-box; }
      html,body{ height:100%; }
      html{ scroll-behavior:smooth; }
      body{
        margin:0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
        color: var(--ink);
        background: radial-gradient(1200px 900px at 50% -10%, rgba(43,108,255,.20), transparent 55%),
                    radial-gradient(1100px 800px at 10% 30%, rgba(255,255,255,.06), transparent 60%),
                    linear-gradient(180deg, var(--bg), var(--bg2));
        overflow-x:hidden;
      }

      /* Melhor scroll: menos animações pesadas e menos blur */
      .bg{
        position: fixed;
        inset: 0;
        pointer-events:none;
        z-index: 0;
      }
      .bg .orbs{
        position:absolute;
        inset:-10%;
        background:
          radial-gradient(700px 520px at 22% 18%, rgba(43,108,255,.18), transparent 60%),
          radial-gradient(680px 520px at 78% 20%, rgba(106,167,255,.10), transparent 60%),
          radial-gradient(860px 680px at 60% 70%, rgba(255,255,255,.06), transparent 62%);
        animation: drift 14s var(--ease) infinite;
        will-change: transform;
      }
      .bg .grid{
        position:absolute;
        inset:0;
        background-image:
          linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
          linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
        background-size: 84px 84px;
        opacity:.30;
        mask-image: radial-gradient(60% 50% at 50% 18%, rgba(0,0,0,1), transparent 70%);
      }
      @keyframes drift{
        0%{ transform: translate3d(0,0,0) scale(1); filter:hue-rotate(0deg); }
        50%{ transform: translate3d(1.6%, -1.0%, 0) scale(1.02); filter:hue-rotate(10deg); }
        100%{ transform: translate3d(0,0,0) scale(1); filter:hue-rotate(0deg); }
      }

      .wrap{ position:relative; z-index:1; min-height:100%; }
      .container{ width: min(var(--max), calc(100% - 48px)); margin: 0 auto; }
      @media (max-width: 640px){ .container{ width: calc(100% - 28px); } }

      header{
        position: sticky;
        top: 0;
        z-index: 20;
        background: rgba(11,15,22,.78);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255,255,255,.08);
      }
      .nav{
        display:flex;
        align-items:center;
        justify-content:space-between;
        height:78px;
        gap: 14px;
      }

      .brand{
        display:flex;
        align-items:center;
        gap: 12px;
        text-decoration:none;
        color: inherit;
      }
      .brand img{
        height: 44px;
        width:auto;
        display:block;
      }

      .navLinks{
        display:flex;
        align-items:center;
        gap: 12px;
      }
      .navLinks a{
        text-decoration:none;
        color: rgba(255,255,255,.72);
        font-size: 13px;
        padding: 10px 10px;
        border-radius: 999px;
        transition: background .2s var(--ease), color .2s var(--ease);
      }
      .navLinks a:hover{ background: rgba(255,255,255,.06); color: rgba(255,255,255,.92); }

      .right{
        display:flex;
        align-items:center;
        gap: 10px;
      }

      .lang{
        display:flex;
        border: 1px solid rgba(255,255,255,.14);
        background: rgba(255,255,255,.05);
        border-radius: 999px;
        overflow:hidden;
      }
      .lang button{
        border:0;
        background: transparent;
        color: rgba(255,255,255,.70);
        cursor:pointer;
        padding: 10px 12px;
        font-size: 12px;
        transition: background .2s var(--ease), color .2s var(--ease);
      }
      .lang button[aria-pressed="true"]{
        background: rgba(255,255,255,.08);
        color: rgba(255,255,255,.92);
        font-weight: 700;
      }

      .btn{
        display:inline-flex;
        align-items:center;
        gap: 10px;
        border-radius: 999px;
        padding: 12px 14px;
        font-size: 13px;
        text-decoration:none;
        cursor:pointer;
        border: 1px solid rgba(255,255,255,.14);
        background: rgba(255,255,255,.06);
        color: rgba(255,255,255,.88);
        transition: transform .2s var(--ease), background .2s var(--ease), border-color .2s var(--ease);
        white-space:nowrap;
      }
      .btn:hover{ transform: translateY(-1px); border-color: rgba(43,108,255,.28); }
      .btn.primary{
        background: linear-gradient(180deg, rgba(43,108,255,.92), rgba(43,108,255,.76));
        border-color: rgba(43,108,255,.35);
        color: rgba(255,255,255,.95);
      }

      @media (max-width: 980px){
        .navLinks{ display:none; }
      }

      main{ padding: 28px 0 96px; }
      section{ padding: 34px 0; }

      /* Corrigir scroll para âncoras com header sticky */
      section[id]{ scroll-margin-top: 92px; }

      .hero{
        padding: 46px 0 24px;
        display:grid;
        gap: 18px;
        align-items:start;
      }
      .heroTop{
        display:flex;
        flex-direction:column;
        gap: 14px;
        max-width: 860px;
      }
      .kicker{
        display:inline-flex;
        align-items:center;
        gap: 10px;
        padding: 9px 12px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,.12);
        background: rgba(255,255,255,.05);
        color: rgba(255,255,255,.74);
        font-size: 12px;
        width: fit-content;
      }
      .dot{
        width: 8px; height: 8px; border-radius: 999px;
        background: rgba(43,108,255,.95);
        box-shadow: 0 12px 24px rgba(43,108,255,.18);
      }
      h1{
        margin:0;
        font-size: clamp(38px, 5.2vw, 62px);
        line-height: 1.04;
        letter-spacing: -0.03em;
      }
      .sub{
        margin: 0;
        color: var(--muted);
        font-size: 16px;
        line-height: 1.62;
      }
      .heroActions{
        display:flex;
        gap: 10px;
        flex-wrap:wrap;
        margin-top: 8px;
      }

      .surface{
        border: 1px solid rgba(255,255,255,.10);
        background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04));
        border-radius: var(--r2);
        box-shadow: var(--shadow);
      }

      .grid3{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 14px; }
      .grid2{ display:grid; grid-template-columns: repeat(2, 1fr); gap: 14px; }
      @media (max-width: 980px){
        .grid3{ grid-template-columns: 1fr; }
        .grid2{ grid-template-columns: 1fr; }
      }

      .sectionTitle{
        display:flex;
        align-items:baseline;
        justify-content:space-between;
        gap: 14px;
        margin-bottom: 12px;
      }
      .sectionTitle h2{
        margin:0;
        font-size: 16px;
        letter-spacing: 0.02em;
        text-transform: uppercase;
        color: rgba(255,255,255,.72);
      }
      .sectionTitle p{
        margin:0;
        font-size: 13px;
        color: rgba(255,255,255,.54);
      }

      .card{
        padding: 18px;
        border-radius: var(--r2);
        border: 1px solid rgba(255,255,255,.10);
        background: rgba(255,255,255,.05);
        transition: transform .2s var(--ease), border-color .2s var(--ease);
      }
      .card:hover{ transform: translateY(-2px); border-color: rgba(43,108,255,.28); }

      .card h3{ margin: 0 0 8px; font-size: 15px; }
      .card p{ margin: 0; color: rgba(255,255,255,.66); font-size: 13px; line-height: 1.55; }

      .metricRow{
        display:flex;
        gap: 14px;
        flex-wrap:wrap;
        margin-top: 14px;
      }
      .metric{
        padding: 12px 14px;
        border-radius: 14px;
        border: 1px solid rgba(255,255,255,.10);
        background: rgba(255,255,255,.04);
        min-width: 180px;
      }
      .metric .k{ font-size: 11px; color: rgba(255,255,255,.56); text-transform: uppercase; letter-spacing: 0.06em; }
      .metric .v{ margin-top: 6px; font-size: 13px; color: rgba(255,255,255,.84); }

      .portfolioCard a{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap: 14px;
        color: inherit;
        text-decoration:none;
      }
      .portfolioCard .name{
        display:flex;
        flex-direction:column;
        gap: 6px;
      }
      .pill{
        font-size: 11px;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,.12);
        background: rgba(255,255,255,.04);
        color: rgba(255,255,255,.66);
        width: fit-content;
      }
      .arrow{
        width: 34px; height: 34px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,.12);
        background: rgba(255,255,255,.04);
        display:grid;
        place-items:center;
      }
      .arrow svg{ width: 16px; height: 16px; }

      form{ display:grid; gap: 10px; }
      .row2{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
      @media (max-width: 720px){ .row2{ grid-template-columns: 1fr; } }

      label{
        font-size: 12px;
        color: rgba(255,255,255,.62);
        display:block;
        margin: 0 0 6px;
      }
      input, textarea, select{
        width: 100%;
        border-radius: 14px;
        border: 1px solid rgba(255,255,255,.14);
        background: rgba(0,0,0,.18);
        padding: 12px 12px;
        font-size: 13px;
        color: rgba(255,255,255,.90);
        outline:none;
        transition: border-color .2s var(--ease), box-shadow .2s var(--ease);
      }
      textarea{ min-height: 140px; resize: vertical; }
      input:focus, textarea:focus, select:focus{
        border-color: rgba(43,108,255,.45);
        box-shadow: 0 0 0 4px rgba(43,108,255,.14);
      }

      .formRow{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap: 10px;
        flex-wrap:wrap;
        margin-top: 6px;
      }
      .status{
        font-size: 12px;
        color: rgba(255,255,255,.62);
      }
      .status.ok{ color: rgba(255,255,255,.80); }
      .status.err{ color: rgba(255,90,120,.90); }

      footer{
        padding: 22px 0 0;
        color: rgba(255,255,255,.52);
        font-size: 12px;
      }
      .footRow{
        display:flex;
        justify-content:space-between;
        align-items:center;
        gap: 12px;
        flex-wrap:wrap;
        border-top: 1px solid rgba(255,255,255,.08);
        padding-top: 14px;
        margin-top: 18px;
      }
      .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

      /* Cookies banner (estilo institucional) */
      .cookie{
        position: fixed;
        left: 18px;
        right: 18px;
        bottom: 18px;
        z-index: 50;
        display:none;
      }
      .cookieInner{
        max-width: 980px;
        margin: 0 auto;
        padding: 14px 14px;
        border-radius: 16px;
        border: 1px solid rgba(255,255,255,.14);
        background: rgba(10,13,19,.92);
        backdrop-filter: blur(12px);
        box-shadow: 0 18px 60px rgba(0,0,0,.45);
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap: 12px;
        flex-wrap:wrap;
      }
      .cookieText{
        color: rgba(255,255,255,.72);
        font-size: 12px;
        line-height: 1.45;
        max-width: 680px;
      }
      .cookieActions{
        display:flex;
        gap: 10px;
        flex-wrap:wrap;
      }
      .cookieBtn{
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,.14);
        background: rgba(255,255,255,.06);
        color: rgba(255,255,255,.86);
        padding: 10px 12px;
        font-size: 12px;
        cursor:pointer;
        transition: transform .2s var(--ease), border-color .2s var(--ease);
      }
      .cookieBtn:hover{ transform: translateY(-1px); border-color: rgba(43,108,255,.28); }
      .cookieBtn.primary{
        background: rgba(255,255,255,.10);
        border-color: rgba(255,255,255,.18);
      }

      [data-i18n]{ display:none; }
    </style>
  </head>

  <body>
    <div class="bg" aria-hidden="true">
      <div class="orbs"></div>
      <div class="grid"></div>
    </div>

    <div class="wrap">
      <header>
        <div class="container">
          <div class="nav">
            <a class="brand" href="#top" aria-label="RAPDM">
              <img src="/rapdm-logo.png" alt="RAPDM" />
            </a>

            <nav class="navLinks" aria-label="Navigation">
              <a href="#focus">Focus</a>
              <a href="#portfolio">Portfolio</a>
              <a href="#news">News</a>
              <a href="#careers">Careers</a>
              <a href="#contact">Contact</a>
            </nav>

            <div class="right">
              <a class="btn primary" href={MEETING_MAIL}>Meeting</a>
              <div class="lang" role="tablist" aria-label="Language">
                <button type="button" data-lang="pt" aria-pressed="true">PT</button>
                <button type="button" data-lang="en" aria-pressed="false">EN</button>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main id="top">
        <div class="container">

          <section class="hero" data-i18n="pt">
            <div class="heroTop">
              <div class="kicker"><span class="dot"></span><span>Holding Company + Venture Studio</span></div>
              <h1>Capital disciplinado.<br/>Execução consistente.</h1>
              <p class="sub">
                A RAPDM estrutura, constrói e investe em negócios com qualidade de execução,
                governança clara e orientação de longo prazo.
              </p>

              <div class="heroActions">
                <a class="btn primary" href="#contact">Contact</a>
                <a class="btn" href="/news">Ver News</a>
              </div>

              <div class="metricRow">
                <div class="metric">
                  <div class="k">Tese</div>
                  <div class="v">Owner mindset. Sistemas. Decisão por métricas.</div>
                </div>
                <div class="metric">
                  <div class="k">Foco</div>
                  <div class="v">Consumer, e-commerce infrastructure, SaaS com dados.</div>
                </div>
                <div class="metric">
                  <div class="k">Contato</div>
                  <div class="v" class="mono">joao@rapdm.co</div>
                </div>
              </div>
            </div>
          </section>

          <section class="hero" data-i18n="en">
            <div class="heroTop">
              <div class="kicker"><span class="dot"></span><span>Holding Company + Venture Studio</span></div>
              <h1>Disciplined capital.<br/>Consistent execution.</h1>
              <p class="sub">
                RAPDM structures, builds and invests in businesses with execution quality,
                clear governance and long-term orientation.
              </p>

              <div class="heroActions">
                <a class="btn primary" href="#contact">Contact</a>
                <a class="btn" href="/news">View News</a>
              </div>

              <div class="metricRow">
                <div class="metric">
                  <div class="k">Thesis</div>
                  <div class="v">Owner mindset. Systems. Metrics-driven decisions.</div>
                </div>
                <div class="metric">
                  <div class="k">Focus</div>
                  <div class="v">Consumer, e-commerce infrastructure, data-driven SaaS.</div>
                </div>
                <div class="metric">
                  <div class="k">Contact</div>
                  <div class="v" class="mono">joao@rapdm.co</div>
                </div>
              </div>
            </div>
          </section>

          <section id="focus" data-i18n="pt">
            <div class="sectionTitle">
              <h2>Focus</h2>
              <p>O que fazemos</p>
            </div>
            <div class="grid3">
              <div class="card">
                <h3>Holding</h3>
                <p>Estrutura, governação, alocação de capital e construção de valor no longo prazo.</p>
              </div>
              <div class="card">
                <h3>Venture Studio</h3>
                <p>Validação, produto e operações com execução pragmática e foco em resultados.</p>
              </div>
              <div class="card">
                <h3>Investimento</h3>
                <p>Quando a combinação de founder, economics e distribuição é claramente superior.</p>
              </div>
            </div>
          </section>

          <section id="focus-en" data-i18n="en">
            <div class="sectionTitle">
              <h2>Focus</h2>
              <p>What we do</p>
            </div>
            <div class="grid3">
              <div class="card">
                <h3>Holding</h3>
                <p>Structure, governance, capital allocation and long-term value creation.</p>
              </div>
              <div class="card">
                <h3>Venture Studio</h3>
                <p>Validation, product and operations with pragmatic, outcomes-first execution.</p>
              </div>
              <div class="card">
                <h3>Investment</h3>
                <p>When founder, economics and distribution signals are clearly superior.</p>
              </div>
            </div>
          </section>

          <section id="portfolio" data-i18n="pt">
            <div class="sectionTitle">
              <h2>Portfolio</h2>
              <p>Holdings e ventures</p>
            </div>
            <div class="grid3">
              {portfolio.map((p) => (
                <div class="card portfolioCard">
                  <a href={p.href} target="_blank" rel="noreferrer">
                    <div class="name">
                      <h3 style="margin:0;">{p.name}</h3>
                      <p style="margin:0; color: rgba(255,255,255,.66); font-size:13px; line-height:1.55;">{p.description_pt}</p>
                      <span class="pill">Abrir</span>
                    </div>
                    <div class="arrow" aria-hidden="true">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M7 17L17 7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                        <path d="M10 7h7v7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </div>
                  </a>
                </div>
              ))}
            </div>
          </section>

          <section id="portfolio-en" data-i18n="en">
            <div class="sectionTitle">
              <h2>Portfolio</h2>
              <p>Holdings and ventures</p>
            </div>
            <div class="grid3">
              {portfolio.map((p) => (
                <div class="card portfolioCard">
                  <a href={p.href} target="_blank" rel="noreferrer">
                    <div class="name">
                      <h3 style="margin:0;">{p.name}</h3>
                      <p style="margin:0; color: rgba(255,255,255,.66); font-size:13px; line-height:1.55;">{p.description_en}</p>
                      <span class="pill">Open</span>
                    </div>
                    <div class="arrow" aria-hidden="true">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M7 17L17 7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                        <path d="M10 7h7v7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </div>
                  </a>
                </div>
              ))}
            </div>
          </section>

          <section id="news" data-i18n="pt">
            <div class="sectionTitle">
              <h2>News</h2>
              <p>Publicações</p>
            </div>
            <div class="surface" style="padding: 18px;">
              <div class="grid2">
                <div class="card" style="background: rgba(255,255,255,.04);">
                  <h3>News como blog</h3>
                  <p>
                    A secção News vive em Markdown. Para adicionar um post novo, basta criar um ficheiro em
                    <span class="mono">src/content/news/</span>.
                  </p>
                </div>
                <div class="card" style="background: rgba(255,255,255,.04);">
                  <h3>Ver todos</h3>
                  <p>Lista completa e páginas individuais em <span class="mono">/news</span>.</p>
                  <div style="margin-top: 12px;">
                    <a class="btn" href="/news">Abrir /news</a>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section id="news-en" data-i18n="en">
            <div class="sectionTitle">
              <h2>News</h2>
              <p>Posts</p>
            </div>
            <div class="surface" style="padding: 18px;">
              <div class="grid2">
                <div class="card" style="background: rgba(255,255,255,.04);">
                  <h3>Blog-style news</h3>
                  <p>
                    News lives in Markdown. Add a new post by creating a file in
                    <span class="mono">src/content/news/</span>.
                  </p>
                </div>
                <div class="card" style="background: rgba(255,255,255,.04);">
                  <h3>View all</h3>
                  <p>Full list and individual pages at <span class="mono">/news</span>.</p>
                  <div style="margin-top: 12px;">
                    <a class="btn" href="/news">Open /news</a>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section id="careers" data-i18n="pt">
            <div class="sectionTitle">
              <h2>Careers</h2>
              <p>Posições</p>
            </div>
            <div class="grid2">
              <div class="card">
                <h3>Ops / Systems Associate</h3>
                <p>Automação, reporting, processos, tooling. Forte atenção ao detalhe.</p>
              </div>
              <div class="card">
                <h3>Analyst (Investments)</h3>
                <p>Screening, research, memos, diligence e acompanhamento.</p>
              </div>
              <div class="card">
                <h3>Growth (Consumer)</h3>
                <p>Performance, tracking, criativos, testes e alocação eficiente.</p>
              </div>
              <div class="card">
                <h3>Product / Data</h3>
                <p>Produto, dados e decisões. Integrações, métricas e clareza.</p>
              </div>
            </div>
          </section>

          <section id="careers-en" data-i18n="en">
            <div class="sectionTitle">
              <h2>Careers</h2>
              <p>Open roles</p>
            </div>
            <div class="grid2">
              <div class="card">
                <h3>Ops / Systems Associate</h3>
                <p>Automation, reporting, processes, internal tooling. High attention to detail.</p>
              </div>
              <div class="card">
                <h3>Analyst (Investments)</h3>
                <p>Screening, research, memos, diligence and follow-up.</p>
              </div>
              <div class="card">
                <h3>Growth (Consumer)</h3>
                <p>Performance, tracking, creative testing and allocation.</p>
              </div>
              <div class="card">
                <h3>Product / Data</h3>
                <p>Product, data and decisions. Integrations, metrics and clarity.</p>
              </div>
            </div>
          </section>

          <section id="contact" data-i18n="pt">
            <div class="sectionTitle">
              <h2>Contact</h2>
              <p>Um único formulário</p>
            </div>

            <div class="surface" style="padding: 18px;">
              <form id="contactForm">
                <div class="row2">
                  <div>
                    <label for="name">Nome</label>
                    <input id="name" name="name" type="text" required placeholder="Nome completo" />
                  </div>
                  <div>
                    <label for="email">Email</label>
                    <input id="email" name="email" type="email" required placeholder="nome@empresa.com" />
                  </div>
                </div>

                <div class="row2">
                  <div>
                    <label for="category">Tipo</label>
                    <select id="category" name="category" required>
                      <option value="" selected disabled>Selecionar</option>
                      <option value="Investment">Investment</option>
                      <option value="Partnership">Partnership</option>
                      <option value="Careers">Careers</option>
                      <option value="Press">Press</option>
                      <option value="General">General</option>
                    </select>
                  </div>
                  <div>
                    <label for="link">Link (opcional)</label>
                    <input id="link" name="link" type="url" placeholder="Deck, LinkedIn, site, etc." />
                  </div>
                </div>

                <div class="row2">
                  <div>
                    <label for="company">Empresa (opcional)</label>
                    <input id="company" name="company" type="text" placeholder="Empresa / projeto" />
                  </div>
                  <div>
                    <label for="role">Posição (se Careers)</label>
                    <input id="role" name="role" type="text" placeholder="Ex: Ops / Systems Associate" />
                  </div>
                </div>

                <div>
                  <label for="message">Mensagem</label>
                  <textarea id="message" name="message" required placeholder="Curto, factual e claro."></textarea>
                </div>

                <div class="formRow">
                  <button class="btn primary" type="submit">Enviar</button>
                  <span id="formStatus" class="status" aria-live="polite"></span>
                </div>
              </form>

              <footer>
                <div class="footRow">
                  <span>© <span class="mono" id="year"></span> RAPDM. All rights reserved.</span>
                  <span class="mono">joao@rapdm.co</span>
                </div>
              </footer>
            </div>
          </section>

          <section id="contact-en" data-i18n="en">
            <div class="sectionTitle">
              <h2>Contact</h2>
              <p>Single form</p>
            </div>

            <div class="surface" style="padding: 18px;">
              <form id="contactFormEn">
                <div class="row2">
                  <div>
                    <label for="name_en">Name</label>
                    <input id="name_en" name="name" type="text" required placeholder="Full name" />
                  </div>
                  <div>
                    <label for="email_en">Email</label>
                    <input id="email_en" name="email" type="email" required placeholder="name@company.com" />
                  </div>
                </div>

                <div class="row2">
                  <div>
                    <label for="category_en">Category</label>
                    <select id="category_en" name="category" required>
                      <option value="" selected disabled>Select</option>
                      <option value="Investment">Investment</option>
                      <option value="Partnership">Partnership</option>
                      <option value="Careers">Careers</option>
                      <option value="Press">Press</option>
                      <option value="General">General</option>
                    </select>
                  </div>
                  <div>
                    <label for="link_en">Link (optional)</label>
                    <input id="link_en" name="link" type="url" placeholder="Deck, LinkedIn, website, etc." />
                  </div>
                </div>

                <div class="row2">
                  <div>
                    <label for="company_en">Company (optional)</label>
                    <input id="company_en" name="company" type="text" placeholder="Company / project" />
                  </div>
                  <div>
                    <label for="role_en">Role (if Careers)</label>
                    <input id="role_en" name="role" type="text" placeholder="e.g., Ops / Systems Associate" />
                  </div>
                </div>

                <div>
                  <label for="message_en">Message</label>
                  <textarea id="message_en" name="message" required placeholder="Short, factual and clear."></textarea>
                </div>

                <div class="formRow">
                  <button class="btn primary" type="submit">Send</button>
                  <span id="formStatusEn" class="status" aria-live="polite"></span>
                </div>
              </form>

              <footer>
                <div class="footRow">
                  <span>© <span class="mono" id="year2"></span> RAPDM. All rights reserved.</span>
                  <span class="mono">joao@rapdm.co</span>
                </div>
              </footer>
            </div>
          </section>

        </div>
      </main>

      <div class="cookie" id="cookieBanner" role="dialog" aria-live="polite" aria-label="Cookies">
        <div class="cookieInner">
          <div class="cookieText" id="cookieText">
            Usamos cookies para melhorar a experiência e medir desempenho. Pode aceitar ou recusar cookies não essenciais.
          </div>
          <div class="cookieActions">
            <button class="cookieBtn" id="cookieReject">Recusar</button>
            <button class="cookieBtn primary" id="cookieAccept">Aceitar</button>
          </div>
        </div>
      </div>
    </div>

    <script is:inline>
      const FORM_ENDPOINT = "{FORM_ENDPOINT}";

      const langButtons = document.querySelectorAll("[data-lang]");
      const blocks = Array.from(document.querySelectorAll("[data-i18n]"));

      const cacheDisplay = () => {
        blocks.forEach((el) => {
          if (!el.dataset.display) {
            const d = getComputedStyle(el).display;
            el.dataset.display = (d && d !== "none") ? d : "block";
          }
        });
      };

      const setLang = (lang) => {
        try { localStorage.setItem("rapdm_lang", lang); } catch {}
        langButtons.forEach((b) => b.setAttribute("aria-pressed", b.dataset.lang === lang ? "true" : "false"));
        blocks.forEach((el) => {
          el.style.display = (el.dataset.i18n === lang) ? (el.dataset.display || "block") : "none";
        });
        document.documentElement.lang = (lang === "pt") ? "pt-PT" : "en";
        const cookieText = document.getElementById("cookieText");
        if (cookieText) {
          cookieText.textContent = (lang === "pt")
            ? "Usamos cookies para melhorar a experiência e medir desempenho. Pode aceitar ou recusar cookies não essenciais."
            : "We use cookies to improve experience and measure performance. You can accept or reject non-essential cookies.";
        }
        const r = document.getElementById("cookieReject");
        const a = document.getElementById("cookieAccept");
        if (r && a) {
          r.textContent = (lang === "pt") ? "Recusar" : "Reject";
          a.textContent = (lang === "pt") ? "Aceitar" : "Accept";
        }
      };

      cacheDisplay();
      const saved = (() => { try { return localStorage.getItem("rapdm_lang"); } catch { return null; } })() || "pt";
      setLang(saved);
      langButtons.forEach((b) => b.addEventListener("click", () => setLang(b.dataset.lang)));

      const postForm = async (payload) => {
        const res = await fetch(FORM_ENDPOINT, {
          method: "POST",
          headers: { "Accept": "application/json", "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
        if (!res.ok) throw new Error("Request failed");
        return true;
      };

      const hookForm = (formId, statusId, ids) => {
        const form = document.getElementById(formId);
        const status = document.getElementById(statusId);
        if (!form || !status) return;

        form.addEventListener("submit", async (e) => {
          e.preventDefault();

          if (!FORM_ENDPOINT || FORM_ENDPOINT.includes("REPLACE_ME")) {
            status.className = "status err";
            status.textContent = "Form endpoint not configured.";
            return;
          }

          status.className = "status";
          status.textContent = "Sending...";

          const get = (id) => (document.getElementById(id)?.value || "");
          const payload = {
            source: "rapdm.co",
            page: window.location.href,
            name: get(ids[0]),
            email: get(ids[1]),
            category: get(ids[2]),
            link: get(ids[3]),
            company: get(ids[4]),
            role: get(ids[5]),
            message: get(ids[6])
          };

          try {
            await postForm(payload);
            status.className = "status ok";
            status.textContent = "Sent.";
            form.reset();
          } catch {
            status.className = "status err";
            status.textContent = "Failed. Try again.";
          }
        });
      };

      hookForm("contactForm", "formStatus", ["name","email","category","link","company","role","message"]);
      hookForm("contactFormEn", "formStatusEn", ["name_en","email_en","category_en","link_en","company_en","role_en","message_en"]);

      const y = String(new Date().getFullYear());
      const y1 = document.getElementById("year");
      const y2 = document.getElementById("year2");
      if (y1) y1.textContent = y;
      if (y2) y2.textContent = y;

      const banner = document.getElementById("cookieBanner");
      const accept = document.getElementById("cookieAccept");
      const reject = document.getElementById("cookieReject");

      const key = "rapdm_cookie_consent";
      const existing = (() => { try { return localStorage.getItem(key); } catch { return null; } })();

      if (!existing && banner) banner.style.display = "block";

      const setConsent = (v) => {
        try { localStorage.setItem(key, v); } catch {}
        if (banner) banner.style.display = "none";
      };

      if (accept) accept.addEventListener("click", () => setConsent("accepted"));
      if (reject) reject.addEventListener("click", () => setConsent("rejected"));
    </script>
  </body>
</html>
